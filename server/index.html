<!DOCTYPE html>
<html>
<head>
	<title>Kaart KULeuven</title>
  <link rel="stylesheet" href="style.css"/>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	<script type="text/javascript">
		
		//var myIp = location.host; //for PI -> proxy on port 80 ^^
		var myIp = (location.host).slice(0,-5); //for LOCAL PC
		function get()
		{
			$.ajax({
			  	url: "http://" + myIp + ":8080",//HARDCODE THIS IP ADRRESS
				success: function(data)
				{
					var ap = data.accesPoint;
					var verdiep = data.verdiep;
					
					$(".verdiep").css("visibility", "hidden" );
					$(".point").css("visibility", "hidden" );
					$(".verdiep" + verdiep).css("visibility", "visible" );
					
					if(ap != 255 && verdiep != 255){
						$( ".verdiep"+verdiep+">"+"."+ap ).css("visibility", "visible");
						var localTime = moment.utc(data.utcTime).format('LLL')+" (utc)";
						$("." + ap + ">" + "div").text(localTime+"\n"+data.devId);
						$(".kaartNummer").text("verdieping "+verdiep);
					}else{
						$(".kaartNummer").text("Het device '"+data.devId+"' is verloren.");
					}
				}});
		}

		setInterval(function(){ get(); }, 500);


		
	</script>
</head>
<body>
	<h1>Kaart voor tovenaars </h1>
	<h2 class="kaartNummer"></h2>
		<div class="content">
			<div class="verdiep_wrapper">
				<div class="verdiep0 verdiep">
					<img class="floor_img" src="res/v0.jpg" alt="kaart verdiep 0">
					<i class="point 0 fas fa-wifi fa-3x" style="left: 75%; top: 17%"><div></div></i>
					<i class="point 1 fas fa-wifi fa-3x" style="left: 41%; top: 15%"><div></div></i>
					<i class="point 2 fas fa-wifi fa-3x" style="left: 35%; top: 54%"><div></div></i>
					<i class="point 3 fas fa-wifi fa-3x" style="left:  8%; top: 17%"><div></div></i>
					<i class="point 4 fas fa-wifi fa-3x" style="left: 56%; top: 86%"><div></div></i>
					<i class="point 5 fas fa-wifi fa-3x" style="left: 76%; top: 56%"><div></div></i>
					<i class="point 6 fas fa-wifi fa-3x" style="left: 76%; top: 78%"><div></div></i>
				</div>
			</div>
			<div class="verdiep_wrapper">
				<div class="verdiep1 verdiep">
					<img class="floor_img" src="res/v1.jpg" alt="kaart verdiep 1">
					<i class="point 0 fas fa-wifi fa-3x" style="left: 87%; top: 69%"><div></div></i>
					<i class="point 1 fas fa-wifi fa-3x" style="left: 90%; top: 10%"><div></div></i>
					<i class="point 2 fas fa-wifi fa-3x" style="left: 55%; top: 14%"><div></div></i>
					<i class="point 3 fas fa-wifi fa-3x" style="left: 36%; top: 57%"><div></div></i>
					<i class="point 4 fas fa-wifi fa-3x" style="left: 18%; top: 52%"><div></div></i>
					<i class="point 5 fas fa-wifi fa-3x" style="left: 23%; top: 17%"><div></div></i>
					<i class="point 6 fas fa-wifi fa-3x" style="left: 55%; top: 82%"><div></div></i>
				</div>
			</div>
			<div class="verdiep_wrapper">
				<div class="verdiep2 verdiep">
					<img class="floor_img" src="res/v2.jpg" alt="kaart verdiep 2">
					<i class="point 0 fas fa-wifi fa-3x" style="left: 87%; top: 78%"><div></div></i>
					<i class="point 1 fas fa-wifi fa-3x" style="left: 46%; top: 18%"><div></div></i>
					<i class="point 2 fas fa-wifi fa-3x" style="left: 45%; top: 70%"><div></div></i>
					<i class="point 3 fas fa-wifi fa-3x" style="left: 24%; top: 70%"><div></div></i>
					<i class="point 4 fas fa-wifi fa-3x" style="left:  9%; top: 70%"><div></div></i>
					<i class="point 5 fas fa-wifi fa-3x" style="left: 13%; top: 18%"><div></div></i>
				</div>
			</div>
			<div class="verdiep_wrapper">
				<div class="verdiep3 verdiep">
					<img class="floor_img" src="res/v3.jpg" alt="kaart verdiep 3">
					<i class="point 0 fas fa-wifi fa-3x" style="left: 78%; top: 50%"><div></div></i>
					<i class="point 1 fas fa-wifi fa-3x" style="left: 89%; top: 46%"><div></div></i>
					<i class="point 2 fas fa-wifi fa-3x" style="left: 78%; top: 15%"><div></div></i>
					<i class="point 3 fas fa-wifi fa-3x" style="left: 84%; top: 78%"><div></div></i>
					<i class="point 4 fas fa-wifi fa-3x" style="left: 40%; top:  5%"><div></div></i>
					<i class="point 5 fas fa-wifi fa-3x" style="left: 50%; top: 30%"><div></div></i>
					<i class="point 6 fas fa-wifi fa-3x" style="left: 40%; top: 70%"><div></div></i>
					<i class="point 7 fas fa-wifi fa-3x" style="left: 50%; top: 75%"><div></div></i>
					<i class="point 8 fas fa-wifi fa-3x" style="left: 65%; top:  4%"><div></div></i>
					<i class="point 9 fas fa-wifi fa-3x" style="left: 50%; top: 29%"><div></div></i>
				</div>
			</div>
			<div class="verdiep_wrapper">
				<div class="verdiep4 verdiep">
					<img class="floor_img" src="res/v4.jpg" alt="kaart verdiep 4">
					<i class="point 0 fas fa-wifi fa-3x" style="left: 60%; top: 78%"><div></div></i>
					<i class="point 1 fas fa-wifi fa-3x" style="left: 30%; top: 78%"><div></div></i>
					<i class="point 2 fas fa-wifi fa-3x" style="left:  8%; top: 78%"><div></div></i>
					<i class="point 3 fas fa-wifi fa-3x" style="left:  8%; top: 38%"><div></div></i>
					<i class="point 4 fas fa-wifi fa-3x" style="left: 14%; top: 10%"><div></div></i>
					<i class="point 5 fas fa-wifi fa-3x" style="left: 38%; top: 10%"><div></div></i>
					<i class="point 6 fas fa-wifi fa-3x" style="left: 75%; top:  6%"><div></div></i>
					<i class="point 7 fas fa-wifi fa-3x" style="left: 75%; top: 71%"><div></div></i>
					<i class="point 8 fas fa-wifi fa-3x" style="left: 79%; top: 30%"><div></div></i>
				</div>
			</div>
			<div class="verdiep_wrapper">
				<div class="verdiep5 verdiep">
					<img class="floor_img" src="res/v5.jpg" alt="kaart verdiep 5">
					<i class="point 0 fas fa-wifi fa-3x" style="left: 40%; top: 78%"><div></div></i>
					<i class="point 1 fas fa-wifi fa-3x" style="left: 15%; top: 45%"><div></div></i>
					<i class="point 2 fas fa-wifi fa-3x" style="left: 12%; top: 21%"><div></div></i>
					<i class="point 3 fas fa-wifi fa-3x" style="left: 80%; top: 10%"><div></div></i>
					<i class="point 4 fas fa-wifi fa-3x" style="left: 80%; top: 40%"><div></div></i>
					<i class="point 5 fas fa-wifi fa-3x" style="left: 74%; top: 86%"><div></div></i>
				</div>
			</div>
			<div class="verdiep_wrapper">
				<div class="verdiep6 verdiep">
					<img class="floor_img" src="res/v6.jpg" alt="kaart verdiep 6">
					<i class="point 0 fas fa-wifi fa-3x" style="left: 70%; top: 55%"><div></div></i>
					<i class="point 1 fas fa-wifi fa-3x" style="left: 85%; top: 78%"><div></div></i>
					<i class="point 2 fas fa-wifi fa-3x" style="left: 35%; top: 78%"><div></div></i>
					<i class="point 3 fas fa-wifi fa-3x" style="left: 55%; top: 78%"><div></div></i>
					<i class="point 4 fas fa-wifi fa-3x" style="left: 14%; top: 76%"><div></div></i>
					<i class="point 5 fas fa-wifi fa-3x" style="left: 14%; top: 50%"><div></div></i>
					<i class="point 6 fas fa-wifi fa-3x" style="left: 14%; top: 30%"><div></div></i>
					<i class="point 7 fas fa-wifi fa-3x" style="left: 14%; top:  5%"><div></div></i>
					<i class="point 8 fas fa-wifi fa-3x" style="left: 30%; top:  5%"><div></div></i>
				</div>
			</div>
			<div class="verdiep255 verdiep">
				<img src="res/KULeuvenBrugge.png" alt="foto campus KU Leuven brugge">
			</div>
		</div>
		
		<footer>
				<img src="res/KULeuvenLoge.png" alt="logo KU Leuven Brugge">
				<p>
					disclaimer: KU Leuven kan niet aansprakelijk gesteld worden voor het eventueel verloren lopen in het gebouw.
				</p>
			</footer>
	
	
</body>
</html>